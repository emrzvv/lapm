# Понятие объекта и инкапсуляции

## Основные понятия

**Объект (object)** - самоописывающая структура данных, обладающая внутренним состоянием, способная обрабатывает передаваемые ей сообщения. Объект является экземпляром класса.

**Инкапсуляция (incapsulation)** - один из основных принципов ООП, заключающийся в том, что доступ к внутреннему состоянию (private полям) объекта осуществляется извне через механизм передачу сообщений 
(метод).

**Класс (class)** - тип данных, значениями которого являются объекты, имеющие сходные внутренние состояния (поля) и обрабатывающие одинаковый набор сообщений (методы).

*Замечание: класс можно рассматривать как шаблон для порождения объектов. Поэтому объекты называют экземплярами класса* 

Классы в Java делятся на два типа: публичные (public) и непубличные (non-public). Любой Java-файл должен содержать ровно один публичный класс. Имя файла должно совпадать с названием класса.

Структура файла:
name.java

```
public class name 
{
    ... // члены класса
}
```
*Замечание: при объявлении непубличных классов `public` не ставится. Непубличные классы доступны только в пределах их файла.*

### Члены класса
- Экземплярные поля. Используются для хранения внутреннего состояния объекта.
- Экземплярные методы. Используются для обработки передаваемых объекту данных.
- Статические поля. Используются для хранения данных, общих для всех экземпляров класса.
- Статические методы. Выполняют действия со статическими полями и действия, для которых не нужен доступ к конкретному объекту класса. 
- Вложенные классы. Объекты, которые нужны для реализации данного класса.
- Статический конструктор. Набор static методов для инициализации полей объекта.

*Пример использования статических методов:*
```
Example.java:

public class Example {
    public static int a;
    public int b;

    Example() {
        a = 1;
        b = 2;
    }

    public static void change_a(int x) {
        a = x;
    }

    public void change_a_2(int x) {
        a = x;
    }
}
-------------------------

Main.java:

public class Main {

    public static void main(String[] args) {
        Example e = new Example();
        e.change_a_2(2);
        Example.change_a(3);
        //e.change_a(3); - не работает
    }
}
```

### Определение статического поля (`static field`)

Статическое поле - поле, принадлежащее некоторому классу, которое разделяется всеми объектами этого класса.

Пример:
```
class Point {
    public int x, y;
    public static int amount; // кол-во точек в системе
}
```

**Экземплярный метод** (instance метод) - подпрограмма, осуществляющая обработку переданных объекту данных. Э.м.:
- передаёт объекту сообщение.
- имеет доступ к внутреннему состоянию объекта, т.е. чтение/запись значений в экземплярные поля.

*Замечание* - доступ к внутреннему состоянию объекта обеспечивается за счёт передачи в экземплярном методе ссылки на сам объект. В Java эта ссылка иммет имя `this`.

**Экземплярное поле** (`instance field`) - именованная состовляющая часть внутреннего объекта.

*Замечание: некоторые ООП ЯП допускают прямое обращение к экземплярным полям, что нарушает принцип инкапсуляции, напр. C++, Java, C#. Не допускают: Ruby*.

## Модификаторы доступа

**private** - доступ только внутри класса
**без** - внтури пакета
**protected** - пакет + он сам + наследники
**public** - все

## Перегрузка метода
```
public class Cat {
    public String name;
    public int age;
    public int weight;

    public Cat(String _name, int _age, int _weight) { // сигнатура метода, method signature. информация о количестве и формальных параметрах
        this.name = _name;
        this.age = _age;
        this.weight = _weight;
    }

    public Cat() { // пустая сигнатура, конструктор по умолчанию

    }
}
```

**Перегрузка метода (method overload)** - объявление для одного и того же класса двух или более методов, имеющих одно и то же имя, но различные сигнатуры.